<%@ page language="java" contentType="text/html; charset=UTF-8"    pageEncoding="UTF-8"%>
<meta charset="UTF-8">
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@page import="java.util.ArrayList"%>

<%
	String b_num= request.getParameter("b_num");
	String id = (String)session.getAttribute("m_id");
%>
	
	<!-- 댓글 처리 추가 시작  -->
	<!-- 댓글 -->
	<div>
		<div class="commentsCount"></div>
		<form name="commentsInsertForm">
			<div>
				<input type="hidden" name="b_num" value="<%=b_num %>" />
				<input type="hidden" name="m_id" value="${m_id }" />
				<div class="comm_input_srd">
					<input class="comm_inputbox" type="text" id="c_content" name="c_content" placeholder="내용을 입력하세요." maxlength="1400">
					<button class="comm_inputbtn" type="button" name="commentsInsertBtn" onclick="chk_form()" >등록</button>
				</div>
				<label class="chk_comm_input"></label>
			</div>
		</form>
	</div><br/>
	
	<div>
		<div class="commentsList"></div>
	</div>

<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script>
	
	
	//페이지 로딩시 댓글 목록 출력
	$(document).ready(function() {
		commentsList();
		commentsCount();
	}); 
	
	//댓글유효성검사 (공백문자입력시)
	function chk_form(){
		
		if(document.commentsInsertForm.c_content.value == "")	{
			$('.chk_comm_input').html('댓글 내용을 입력 해주세요.');
			$('.chk_comm_input').css("color", "red");
			document.commentsInsertForm.c_content.focus();
			return false;
		}
		$('.chk_comm_input').empty();	/* .empty() 태그안의 내용을 비워주기 */
		chk_form_Submit();
	}
	
	//유효성검사 후 댓글 데이터 넘겨주기
	function chk_form_Submit() {				
		var b_num = $('[name=b_num]').val();
		var c_content = $('#c_content').val();
		var insertData2 = {
				b_num : b_num,
				c_content : c_content
		};
		commentsInsert(insertData2);
	}
	
	var b_num = <%=b_num %>; //게시판 글내용
	
	//댓글개수구하기
	function commentsCount(){
		$.ajax({
			url : '/myakkbird/comments_count.ak',
			type : 'POST',
			data : {'b_num':b_num},
			dataType : 'json',
			contentType : 'application/x-www-form-urlencoded; charset=utf-8',
			success : function(data) {
				var a = '';
				$.each(data, function(key, value) {
					a += '<h4>댓글 '+value.comment_cnt+'개</h4>';
				});
				$(".commentsCount").html(a);
			},
			error:function() {
				alert("댓글개수ajax 통신 실패(list)!!!");
			}
		});
	}
	//댓글 목록
	function commentsList() {	
		$.ajax({
			url : '/myakkbird/comments_list.ak',
			type : 'POST',
			data : {'b_num':b_num},
			dataType : 'json',
			contentType : 'application/x-www-form-urlencoded; charset=utf-8',
			success : function(data) {
				var a = '';
				$.each(data, function(key, value) {
					if(value.c_re_lev == 0){
						a += '<div class="commentsArea" style="border-bottom:1px solid darkgray; margin-bottom: 5px;">';
						a += '<div class="commentsInfo'+value.c_num+'">';
						
						a += '<div class="commentsSround">';
						a += '	<svg class="comments_id_svg" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"> <path style="fill:#E0230D;" d="M414.5,7.5h-30v497h30c49.5,0,90-40.5,90-90v-317C504.5,48,464,7.5,414.5,7.5z"/> <path style="fill:#FF5440;" d="M474.5,97.5v317c0,49.5-40.5,90-90,90h-287c-49.5,0-90-40.5-90-90v-317c0-49.5,40.5-90,90-90h287 C434,7.5,474.5,48,474.5,97.5z"/><g> <path style="fill:#FFFFFF;" d="M161,444.5c-11.046,0-20-8.954-20-20v-337c0-11.046,8.954-20,20-20s20,8.954,20,20v337 C181,435.546,172.046,444.5,161,444.5z"/> <path style="fill:#FFFFFF;" d="M261,444.5h-20c-11.046,0-20-8.954-20-20v-337c0-11.046,8.954-20,20-20h20 c66.168,0,120,53.832,120,120v137C381,390.668,327.168,444.5,261,444.5z M261,107.5v297c44.112,0,80-35.888,80-80v-137 C341,143.388,305.112,107.5,261,107.5z"/> </g> <path d="M414.5,0h-317C43.738,0,0,43.738,0,97.5v317C0,468.262,43.738,512,97.5,512h317c53.762,0,97.5-43.738,97.5-97.5v-317 C512,43.738,468.262,0,414.5,0z M497,414.5c0,45.491-37.009,82.5-82.5,82.5h-317C52.009,497,15,459.991,15,414.5v-317 C15,52.009,52.009,15,97.5,15h317c45.491,0,82.5,37.009,82.5,82.5V414.5z"/> <path d="M161,60c-15.164,0-27.5,12.336-27.5,27.5v337c0,15.164,12.336,27.5,27.5,27.5s27.5-12.336,27.5-27.5v-337 C188.5,72.336,176.164,60,161,60z M173.5,424.5c0,6.893-5.607,12.5-12.5,12.5s-12.5-5.607-12.5-12.5v-337 c0-6.893,5.607-12.5,12.5-12.5s12.5,5.607,12.5,12.5V424.5z"/> <path d="M261,60h-20c-15.164,0-27.5,12.336-27.5,27.5v337c0,15.164,12.336,27.5,27.5,27.5h20c70.304,0,127.5-57.196,127.5-127.5 v-137C388.5,117.196,331.304,60,261,60z M373.5,324.5c0,62.033-50.467,112.5-112.5,112.5h-20c-6.893,0-12.5-5.607-12.5-12.5v-337 c0-6.893,5.607-12.5,12.5-12.5h20c62.033,0,112.5,50.467,112.5,112.5V324.5z"/> <path d="M261,100c-4.142,0-7.5,3.358-7.5,7.5V241c0,4.142,3.358,7.5,7.5,7.5s7.5-3.358,7.5-7.5V115.385 c36.465,3.766,65,34.671,65,72.115v137c0,37.444-28.535,68.349-65,72.115V271c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v133.5 c0,4.142,3.358,7.5,7.5,7.5c48.248,0,87.5-39.252,87.5-87.5v-137C348.5,139.252,309.248,100,261,100z"/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>';
						a += '	<div class="comments_mid" onclick="profileLink(`'+value.m_id+'`)">'+value.m_id+'</div>';
						a += '	<div class="comments_date">'+value.c_date+'</div>';
						a += '	<div class="comments_reply"><a onclick="commentsReplyForm('+value.b_num+','+value.c_num+');">';
						/* a += '  	<span class="reply_txt">답글</span>'; */
						a += '  	<svg alt="답글" id="Layer_1" enable-background="new 0 0 512 512" height="30" viewBox="0 0 512 512" width="30" xmlns="http://www.w3.org/2000/svg"><path d="m298.35 159.309h-275.44c-8.475 0-15.41 6.945-15.41 15.434v220.686c0 8.486 6.935 15.432 15.41 15.432h50.592v60.898c0 8.486 4.905 10.518 10.896 4.52l65.333-65.418h212.239c8.474 0 15.411-6.945 15.411-15.432v-157.005c-39.34-8.774-70.298-39.76-79.031-79.115z" fill="#c7eefd"/><path d="m39 395.428v-220.686c0-8.488 6.935-15.434 15.41-15.434h-31.5c-8.475 0-15.41 6.945-15.41 15.434v220.686c0 8.486 6.935 15.432 15.41 15.432h31.5c-8.475-.001-15.41-6.946-15.41-15.432z" fill="#98e5fb"/><path d="m504.5 136.609c0 57.613-46.701 104.32-104.317 104.32-57.613 0-104.317-46.707-104.317-104.32 0-57.611 46.704-104.315 104.317-104.315 57.616.001 104.317 46.704 104.317 104.315z" fill="#fdd302"/><path d="m327 136.609c0-52.32 38.522-95.641 88.75-103.156-5.079-.76-10.276-1.158-15.567-1.158-57.613 0-104.317 46.703-104.317 104.315 0 57.613 46.704 104.32 104.317 104.32 5.291 0 10.488-.396 15.567-1.156-50.228-7.518-88.75-50.842-88.75-103.165z" fill="#e7b700"/><path d="m7.5 110.631c0 2.75 2.25 5 5 5h198.149c2.75 0 5-2.25 5-5v-59.449c0-2.75-2.25-5-5-5h-198.149c-2.75 0-5 2.25-5 5z" fill="#0592fb"/><path d="m38.851 110.631v-23.176c-2.297-1.281-3.853-3.732-3.853-6.551 0-2.816 1.556-5.269 3.853-6.551v-23.171c0-2.75 2.25-5 5-5h-31.351c-2.75 0-5 2.25-5 5v59.449c0 2.75 2.25 5 5 5h31.351c-2.75 0-5-2.25-5-5z" fill="#0181fb"/><path d="m377.381 299.51c-4.143 0-7.5 3.357-7.5 7.5v88.418c0 4.373-3.549 7.932-7.911 7.932h-150.97c-4.142 0-7.5 3.357-7.5 7.5s3.358 7.5 7.5 7.5h150.97c12.633 0 22.911-10.287 22.911-22.932v-88.418c0-4.143-3.358-7.5-7.5-7.5z"/><path d="m85.268 247.967h214.348c4.143 0 7.5-3.357 7.5-7.5s-3.357-7.5-7.5-7.5h-214.348c-4.142 0-7.5 3.357-7.5 7.5 0 4.142 3.357 7.5 7.5 7.5z"/><path d="m85.268 293.15h214.348c4.143 0 7.5-3.357 7.5-7.5s-3.357-7.5-7.5-7.5h-214.348c-4.142 0-7.5 3.357-7.5 7.5s3.357 7.5 7.5 7.5z"/><path d="m85.268 338.338h113.14c4.142 0 7.5-3.357 7.5-7.5s-3.358-7.5-7.5-7.5h-113.14c-4.142 0-7.5 3.357-7.5 7.5 0 4.142 3.357 7.5 7.5 7.5z"/><path d="m400.183 24.795c-61.656 0-111.817 50.16-111.817 111.815 0 5.156.358 10.229 1.037 15.199h-266.493c-12.633 0-22.91 10.289-22.91 22.933v220.686c0 12.645 10.277 22.932 22.91 22.932h43.092v53.398c0 9.902 4.909 13.412 7.835 14.623.904.373 2.386.824 4.278.824 3.033 0 7.124-1.156 11.59-5.627l63.136-63.219h22.159c4.142 0 7.5-3.357 7.5-7.5s-3.358-7.5-7.5-7.5h-25.268c-1.991 0-3.9.791-5.307 2.201l-63.423 63.504v-58.205c0-4.143-3.358-7.5-7.5-7.5h-50.592c-4.362 0-7.91-3.559-7.91-7.932v-220.685c0-4.375 3.548-7.934 7.91-7.934h269.602c10.5 37.391 39.995 66.912 77.369 77.447v27.754c0 4.143 3.357 7.5 7.5 7.5s7.5-3.357 7.5-7.5v-24.631c5.005.688 10.111 1.051 15.302 1.051 61.656 0 111.817-50.162 111.817-111.82 0-61.654-50.161-111.814-111.817-111.814zm0 208.635c-53.386 0-96.817-43.434-96.817-96.82 0-53.383 43.432-96.815 96.817-96.815 53.386 0 96.817 43.432 96.817 96.815 0 53.386-43.432 96.82-96.817 96.82z"/><path d="m430.273 164.037c-16.592 16.445-43.59 16.445-60.182 0-2.941-2.916-7.689-2.895-10.606.047-2.916 2.941-2.895 7.691.048 10.607 11.207 11.107 25.928 16.662 40.649 16.662 14.722 0 29.442-5.555 40.649-16.662 2.942-2.916 2.964-7.666.048-10.607-2.915-2.941-7.664-2.963-10.606-.047z"/><path d="m443.135 102.717c-14.004 0-25.396 11.283-25.396 25.152 0 4.143 3.357 7.5 7.5 7.5s7.5-3.357 7.5-7.5c0-5.598 4.664-10.152 10.396-10.152s10.396 4.555 10.396 10.152c0 4.143 3.357 7.5 7.5 7.5s7.5-3.357 7.5-7.5c-.001-13.869-11.393-25.152-25.396-25.152z"/><path d="m367.628 127.869c0 4.143 3.358 7.5 7.5 7.5 4.143 0 7.5-3.357 7.5-7.5 0-13.869-11.393-25.152-25.397-25.152-14.003 0-25.396 11.283-25.396 25.152 0 4.143 3.357 7.5 7.5 7.5s7.5-3.357 7.5-7.5c0-5.598 4.663-10.152 10.396-10.152s10.397 4.554 10.397 10.152z"/><path d="m12.5 123.131h134.5c4.142 0 7.5-3.357 7.5-7.5s-3.358-7.5-7.5-7.5h-132v-54.449h193.149v54.449h-25.149c-4.142 0-7.5 3.357-7.5 7.5s3.358 7.5 7.5 7.5h27.649c6.893 0 12.5-5.607 12.5-12.5v-59.449c0-6.892-5.607-12.5-12.5-12.5h-198.149c-6.893 0-12.5 5.608-12.5 12.5v59.449c0 6.892 5.607 12.5 12.5 12.5z"/><path d="m181.759 80.904c0-4.143-3.358-7.5-7.5-7.5h-131.761c-4.142 0-7.5 3.357-7.5 7.5s3.358 7.5 7.5 7.5h131.761c4.142 0 7.5-3.357 7.5-7.5z"/></svg>';
						a += '	</a></div>';
						
						a += '	<div class="comments_danger"><a class="dangerB'+value.c_num+'" onclick="dangerLink('+value.c_num+');">';
						/* a += '  	<span class="danger_txt">신고</span>'; */
						a += '    	<svg alt="신고" class="danger_icon" id="Capa_1" enable-background="new 0 0 512 512" height="25" viewBox="0 0 512 512" width="25" xmlns="http://www.w3.org/2000/svg"><g><g><path d="m504.5 256h-212.134v-181.829h212.134l-30.305 90.914z" fill="#dd5790"/></g><g><path d="m292.366 241.858h107.077c11.158 0 20.203-9.045 20.203-20.203v-147.484h-127.28z" fill="#da387d"/></g><g><path d="m397.423 219.634-105.057 36.366v-36.366z" fill="#d80a61"/></g><g><path d="m225.695 37.805h171.728v181.829h-171.728z" fill="#dd5790"/></g><g><path d="m7.5 304.488h32.325v152.617h-32.325z" fill="#c8ea73"/></g><g><path d="m7.5 381.12v75.985h32.325v-56.827c-12.584-4.152-23.599-10.559-32.325-19.158z" fill="#b7e445"/></g><g><path d="m215.593 504.5h-20.203c-5.579 0-10.102-4.523-10.102-10.102v-476.796c0-5.579 4.523-10.102 10.102-10.102h20.203c5.579 0 10.102 4.523 10.102 10.102v476.797c0 5.578-4.523 10.101-10.102 10.101z" fill="#4073c8"/></g><g><path d="m215.593 504.5h-20.203c-5.579 0-10.102-4.523-10.102-10.102v-224.256h40.407v224.256c0 5.579-4.523 10.102-10.102 10.102z" fill="#30579d"/></g><g><path d="m285.821 335.803h-19.719c11.403 0 20.599-9.446 20.19-20.94-.389-10.948-9.719-19.466-20.674-19.466h-80.329v-40.407h-26.871c-8.784 0-17.329 2.862-24.34 8.154l-43.98 33.19c-7.011 5.291-15.556 8.154-24.34 8.154h-25.933v152.617l205.589-.082c10.955 0 20.285-8.518 20.674-19.466.409-11.494-8.788-20.94-20.19-20.94h19.719c10.955 0 20.285-8.518 20.674-19.466.409-11.494-8.788-20.94-20.19-20.94h20.203c11.403 0 20.599-9.446 20.19-20.94-.388-10.95-9.718-19.468-20.673-19.468z" fill="#f1d0a5"/></g><g><path d="m285.821 335.803h-19.719c11.403 0 20.599-9.446 20.19-20.94-.389-10.948-9.719-19.466-20.674-19.466h-21.603c-11.701 31.616-38.705 63.037-76.584 84.906-44.125 25.476-92.097 31.691-127.605 19.975v56.827l205.589-.082c10.955 0 20.285-8.519 20.674-19.466.409-11.494-8.788-20.94-20.19-20.94h19.719c10.955 0 20.285-8.519 20.674-19.466.409-11.494-8.788-20.94-20.19-20.94h20.203c11.403 0 20.599-9.446 20.19-20.94-.389-10.95-9.719-19.468-20.674-19.468z" fill="#f1b986"/></g><path d="m482.106 165.09 29.509-88.549c.762-2.287.378-4.801-1.031-6.757-1.41-1.956-3.673-3.114-6.084-3.114h-99.58v-28.87c0-4.142-3.358-7.5-7.5-7.5h-95.6c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h88.1v166.83h-156.725v-166.83h33.625c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-33.625v-12.698c0-9.706-7.896-17.602-17.602-17.602h-20.203c-9.706 0-17.602 7.896-17.602 17.602v229.888h-19.368c-10.352 0-20.601 3.432-28.858 9.664l-8.2 6.19c-3.306 2.495-3.963 7.198-1.467 10.504 1.475 1.954 3.719 2.982 5.992 2.982 1.573 0 3.16-.494 4.513-1.515l8.2-6.189c5.67-4.279 12.71-6.636 19.822-6.636h19.369v25.41h-16.751c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h104.58c7.024 0 12.935 5.485 13.175 12.228.125 3.488-1.137 6.787-3.55 9.289-2.417 2.504-5.665 3.884-9.145 3.884-.02 0-.038.003-.058.003h-80.753c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5l100.531-.004c7.03 0 12.944 5.49 13.185 12.231.122 3.492-1.143 6.794-3.561 9.298-2.417 2.503-5.665 3.881-9.144 3.881h-101.011c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h80.802.01c3.478 0 6.725 1.38 9.143 3.885 2.415 2.503 3.677 5.801 3.552 9.288-.241 6.748-6.151 12.237-13.175 12.237l-80.332-.004c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h60.524c.029 0 .058.004.087.004 3.48 0 6.728 1.379 9.145 3.884 2.414 2.501 3.675 5.8 3.55 9.289-.24 6.742-6.155 12.227-13.188 12.227l-198.077.077v-137.607h18.43c10.358 0 20.608-3.437 28.861-9.676l7.85-5.93c3.305-2.497 3.96-7.2 1.463-10.505-2.496-3.305-7.201-3.961-10.505-1.464l-7.853 5.932c-5.666 4.284-12.704 6.643-19.817 6.643l-58.259-.002c-4.142 0-7.5 3.358-7.5 7.5v152.617c0 4.142 3.358 7.5 7.5 7.5l170.289-.058v29.852c0 9.706 7.896 17.602 17.602 17.602h20.203c9.706 0 17.602-7.896 17.602-17.602v-29.874l12.214-.005c15.012 0 27.651-11.975 28.175-26.693.179-5.004-.955-9.832-3.256-14.104 12.855-2.188 22.988-13.151 23.457-26.305.178-4.975-.943-9.775-3.218-14.03 5.947-.91 11.399-3.72 15.666-8.138 5.27-5.457 8.027-12.645 7.762-20.246-.477-13.396-10.433-24.196-23.457-26.323 2.295-4.268 3.425-9.09 3.247-14.087-.533-14.968-12.905-26.693-28.165-26.693h-32.425v-60.77h51.675v28.869c.078 3.541 2.705 7.482 7.519 7.5h123.24c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-78.67l62.916-21.778c2.67-.932 5.211-3.754 5.044-7.338v-137.714h89.175l-27.01 81.049c-.513 1.539-.513 3.203 0 4.743l27.01 81.039h-43.465c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h53.87c2.411 0 4.675-1.159 6.084-3.115s1.793-4.47 1.031-6.757zm-467.106 146.898h17.33v137.617h-17.33zm203.196 182.41c0 1.435-1.167 2.602-2.602 2.602h-20.203c-1.435 0-2.602-1.167-2.602-2.602v-29.858l25.407-.01zm-25.407-206.498v-270.298c0-1.435 1.167-2.602 2.602-2.602h20.203c1.435 0 2.602 1.167 2.602 2.602v270.298zm160.052-60.77-52.971 18.336v-18.336z"/></g></svg>';
						a += '	</a></div>';
						a += '</div>';
						
						if(value.m_id == '<%=id%>'){
						a += '<svg class="comm_more_vert" onclick="updel_icon('+value.c_re_ref+','+value.c_num+', \''+value.c_content+'\')" height="18pt" viewBox="-192 0 512 512" width="18pt" xmlns="http://www.w3.org/2000/svg"><g fill="#89df8f"><path d="m128 256c0 35.347656-28.652344 64-64 64s-64-28.652344-64-64 28.652344-64 64-64 64 28.652344 64 64zm0 0"/><path d="m128 64c0 35.347656-28.652344 64-64 64s-64-28.652344-64-64 28.652344-64 64-64 64 28.652344 64 64zm0 0"/><path d="m128 448c0 35.347656-28.652344 64-64 64s-64-28.652344-64-64 28.652344-64 64-64 64 28.652344 64 64zm0 0"/></g></svg>';
						a += '<div id="updel_id'+value.c_num+'" class="updel_list"></div>';
						}
						
						a += '</div><div class="maincomm'+value.c_num+'">'+value.c_content;;
						a += '<div class="replycomm'+value.b_num+value.c_num+'"></div></div></div>';
					}
					else if(value.c_re_lev == 1){
						a += '<div class="commentsArea" style="border-bottom:1px solid darkgray; margin-bottom: 5px;">';
						a += '<div class="commentsInfo'+value.c_num+'">';
						
						a += '<div class="commentsSround">';
						a += '	<svg class="comments_id_svg" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"> <path style="fill:#E0230D;" d="M414.5,7.5h-30v497h30c49.5,0,90-40.5,90-90v-317C504.5,48,464,7.5,414.5,7.5z"/> <path style="fill:#FF5440;" d="M474.5,97.5v317c0,49.5-40.5,90-90,90h-287c-49.5,0-90-40.5-90-90v-317c0-49.5,40.5-90,90-90h287 C434,7.5,474.5,48,474.5,97.5z"/><g> <path style="fill:#FFFFFF;" d="M161,444.5c-11.046,0-20-8.954-20-20v-337c0-11.046,8.954-20,20-20s20,8.954,20,20v337 C181,435.546,172.046,444.5,161,444.5z"/> <path style="fill:#FFFFFF;" d="M261,444.5h-20c-11.046,0-20-8.954-20-20v-337c0-11.046,8.954-20,20-20h20 c66.168,0,120,53.832,120,120v137C381,390.668,327.168,444.5,261,444.5z M261,107.5v297c44.112,0,80-35.888,80-80v-137 C341,143.388,305.112,107.5,261,107.5z"/> </g> <path d="M414.5,0h-317C43.738,0,0,43.738,0,97.5v317C0,468.262,43.738,512,97.5,512h317c53.762,0,97.5-43.738,97.5-97.5v-317 C512,43.738,468.262,0,414.5,0z M497,414.5c0,45.491-37.009,82.5-82.5,82.5h-317C52.009,497,15,459.991,15,414.5v-317 C15,52.009,52.009,15,97.5,15h317c45.491,0,82.5,37.009,82.5,82.5V414.5z"/> <path d="M161,60c-15.164,0-27.5,12.336-27.5,27.5v337c0,15.164,12.336,27.5,27.5,27.5s27.5-12.336,27.5-27.5v-337 C188.5,72.336,176.164,60,161,60z M173.5,424.5c0,6.893-5.607,12.5-12.5,12.5s-12.5-5.607-12.5-12.5v-337 c0-6.893,5.607-12.5,12.5-12.5s12.5,5.607,12.5,12.5V424.5z"/> <path d="M261,60h-20c-15.164,0-27.5,12.336-27.5,27.5v337c0,15.164,12.336,27.5,27.5,27.5h20c70.304,0,127.5-57.196,127.5-127.5 v-137C388.5,117.196,331.304,60,261,60z M373.5,324.5c0,62.033-50.467,112.5-112.5,112.5h-20c-6.893,0-12.5-5.607-12.5-12.5v-337 c0-6.893,5.607-12.5,12.5-12.5h20c62.033,0,112.5,50.467,112.5,112.5V324.5z"/> <path d="M261,100c-4.142,0-7.5,3.358-7.5,7.5V241c0,4.142,3.358,7.5,7.5,7.5s7.5-3.358,7.5-7.5V115.385 c36.465,3.766,65,34.671,65,72.115v137c0,37.444-28.535,68.349-65,72.115V271c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v133.5 c0,4.142,3.358,7.5,7.5,7.5c48.248,0,87.5-39.252,87.5-87.5v-137C348.5,139.252,309.248,100,261,100z"/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>';
						a += '	<div class="comments_mid" onclick="profileLink(`'+value.m_id+'`)">'+value.m_id+'</div>';
						a += '	<div class="comments_date_sub">'+value.c_date+'</div>';					
						a += '	<div class="comments_danger"><a class="dangerB'+value.c_num+'" onclick="dangerLink('+value.c_num+');">';
						/* a += '  	<span class="danger_txt">신고</span>'; */
						a += '    	<svg alt="신고" class="danger_icon" id="Capa_1" enable-background="new 0 0 512 512" height="25" viewBox="0 0 512 512" width="25" xmlns="http://www.w3.org/2000/svg"><g><g><path d="m504.5 256h-212.134v-181.829h212.134l-30.305 90.914z" fill="#dd5790"/></g><g><path d="m292.366 241.858h107.077c11.158 0 20.203-9.045 20.203-20.203v-147.484h-127.28z" fill="#da387d"/></g><g><path d="m397.423 219.634-105.057 36.366v-36.366z" fill="#d80a61"/></g><g><path d="m225.695 37.805h171.728v181.829h-171.728z" fill="#dd5790"/></g><g><path d="m7.5 304.488h32.325v152.617h-32.325z" fill="#c8ea73"/></g><g><path d="m7.5 381.12v75.985h32.325v-56.827c-12.584-4.152-23.599-10.559-32.325-19.158z" fill="#b7e445"/></g><g><path d="m215.593 504.5h-20.203c-5.579 0-10.102-4.523-10.102-10.102v-476.796c0-5.579 4.523-10.102 10.102-10.102h20.203c5.579 0 10.102 4.523 10.102 10.102v476.797c0 5.578-4.523 10.101-10.102 10.101z" fill="#4073c8"/></g><g><path d="m215.593 504.5h-20.203c-5.579 0-10.102-4.523-10.102-10.102v-224.256h40.407v224.256c0 5.579-4.523 10.102-10.102 10.102z" fill="#30579d"/></g><g><path d="m285.821 335.803h-19.719c11.403 0 20.599-9.446 20.19-20.94-.389-10.948-9.719-19.466-20.674-19.466h-80.329v-40.407h-26.871c-8.784 0-17.329 2.862-24.34 8.154l-43.98 33.19c-7.011 5.291-15.556 8.154-24.34 8.154h-25.933v152.617l205.589-.082c10.955 0 20.285-8.518 20.674-19.466.409-11.494-8.788-20.94-20.19-20.94h19.719c10.955 0 20.285-8.518 20.674-19.466.409-11.494-8.788-20.94-20.19-20.94h20.203c11.403 0 20.599-9.446 20.19-20.94-.388-10.95-9.718-19.468-20.673-19.468z" fill="#f1d0a5"/></g><g><path d="m285.821 335.803h-19.719c11.403 0 20.599-9.446 20.19-20.94-.389-10.948-9.719-19.466-20.674-19.466h-21.603c-11.701 31.616-38.705 63.037-76.584 84.906-44.125 25.476-92.097 31.691-127.605 19.975v56.827l205.589-.082c10.955 0 20.285-8.519 20.674-19.466.409-11.494-8.788-20.94-20.19-20.94h19.719c10.955 0 20.285-8.519 20.674-19.466.409-11.494-8.788-20.94-20.19-20.94h20.203c11.403 0 20.599-9.446 20.19-20.94-.389-10.95-9.719-19.468-20.674-19.468z" fill="#f1b986"/></g><path d="m482.106 165.09 29.509-88.549c.762-2.287.378-4.801-1.031-6.757-1.41-1.956-3.673-3.114-6.084-3.114h-99.58v-28.87c0-4.142-3.358-7.5-7.5-7.5h-95.6c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h88.1v166.83h-156.725v-166.83h33.625c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-33.625v-12.698c0-9.706-7.896-17.602-17.602-17.602h-20.203c-9.706 0-17.602 7.896-17.602 17.602v229.888h-19.368c-10.352 0-20.601 3.432-28.858 9.664l-8.2 6.19c-3.306 2.495-3.963 7.198-1.467 10.504 1.475 1.954 3.719 2.982 5.992 2.982 1.573 0 3.16-.494 4.513-1.515l8.2-6.189c5.67-4.279 12.71-6.636 19.822-6.636h19.369v25.41h-16.751c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h104.58c7.024 0 12.935 5.485 13.175 12.228.125 3.488-1.137 6.787-3.55 9.289-2.417 2.504-5.665 3.884-9.145 3.884-.02 0-.038.003-.058.003h-80.753c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5l100.531-.004c7.03 0 12.944 5.49 13.185 12.231.122 3.492-1.143 6.794-3.561 9.298-2.417 2.503-5.665 3.881-9.144 3.881h-101.011c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h80.802.01c3.478 0 6.725 1.38 9.143 3.885 2.415 2.503 3.677 5.801 3.552 9.288-.241 6.748-6.151 12.237-13.175 12.237l-80.332-.004c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h60.524c.029 0 .058.004.087.004 3.48 0 6.728 1.379 9.145 3.884 2.414 2.501 3.675 5.8 3.55 9.289-.24 6.742-6.155 12.227-13.188 12.227l-198.077.077v-137.607h18.43c10.358 0 20.608-3.437 28.861-9.676l7.85-5.93c3.305-2.497 3.96-7.2 1.463-10.505-2.496-3.305-7.201-3.961-10.505-1.464l-7.853 5.932c-5.666 4.284-12.704 6.643-19.817 6.643l-58.259-.002c-4.142 0-7.5 3.358-7.5 7.5v152.617c0 4.142 3.358 7.5 7.5 7.5l170.289-.058v29.852c0 9.706 7.896 17.602 17.602 17.602h20.203c9.706 0 17.602-7.896 17.602-17.602v-29.874l12.214-.005c15.012 0 27.651-11.975 28.175-26.693.179-5.004-.955-9.832-3.256-14.104 12.855-2.188 22.988-13.151 23.457-26.305.178-4.975-.943-9.775-3.218-14.03 5.947-.91 11.399-3.72 15.666-8.138 5.27-5.457 8.027-12.645 7.762-20.246-.477-13.396-10.433-24.196-23.457-26.323 2.295-4.268 3.425-9.09 3.247-14.087-.533-14.968-12.905-26.693-28.165-26.693h-32.425v-60.77h51.675v28.869c.078 3.541 2.705 7.482 7.519 7.5h123.24c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-78.67l62.916-21.778c2.67-.932 5.211-3.754 5.044-7.338v-137.714h89.175l-27.01 81.049c-.513 1.539-.513 3.203 0 4.743l27.01 81.039h-43.465c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h53.87c2.411 0 4.675-1.159 6.084-3.115s1.793-4.47 1.031-6.757zm-467.106 146.898h17.33v137.617h-17.33zm203.196 182.41c0 1.435-1.167 2.602-2.602 2.602h-20.203c-1.435 0-2.602-1.167-2.602-2.602v-29.858l25.407-.01zm-25.407-206.498v-270.298c0-1.435 1.167-2.602 2.602-2.602h20.203c1.435 0 2.602 1.167 2.602 2.602v270.298zm160.052-60.77-52.971 18.336v-18.336z"/></g></svg>';
						a += '	</a></div>';
						a += '</div>';
						
						if(value.m_id == '<%=id%>'){	
						a += '<svg class="comm_more_vert" onclick="updel_icon('+value.c_re_ref+','+value.c_num+', \''+value.c_content+'\')" height="18pt" viewBox="-192 0 512 512" width="18pt" xmlns="http://www.w3.org/2000/svg"><g fill="#89df8f"><path d="m128 256c0 35.347656-28.652344 64-64 64s-64-28.652344-64-64 28.652344-64 64-64 64 28.652344 64 64zm0 0"/><path d="m128 64c0 35.347656-28.652344 64-64 64s-64-28.652344-64-64 28.652344-64 64-64 64 28.652344 64 64zm0 0"/><path d="m128 448c0 35.347656-28.652344 64-64 64s-64-28.652344-64-64 28.652344-64 64-64 64 28.652344 64 64zm0 0"/></g></svg>';
						a += '<div id="updel_id'+value.c_num+'" class="updel_list"></div>';						
						}
												
						a += '</div><div class="maincomm'+value.c_num+'">&nbsp;&nbsp;&nbsp;&nbsp;<svg class="comm_bar" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#37B04B" width="18px" height="18px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z"/></svg>'+value.c_content;
						a += '</div></div>';
					}
				});
				
				$(".commentsList").html(a);
			},
			error:function() {
				alert("댓글목록ajax 통신 실패(list)!!!"+b_num);
			}
		});
	} 
	
	function updel_icon(c_re_ref, c_num, c_content) {
		
		var output = '';
		
		
		output += '<div class="dia'+c_num+'">';
		output += '    <div class="dialog">';
		output += '	       <div class="cancel_div">';
		output += '            <a class="cancel'+c_num+'">';
		output += '                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#212121;" width="15px" height="15px"><path d="M0 0h24v24H0z" fill="none"/><path d="M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>';
		output += '            </a>';
		output += '        </div>';
		output += '        <a class="deleteB'+c_num+'" onclick="commentsDeleteGo('+c_num+','+c_re_ref+')">';
		output += '            <span class="delete_txt">삭제</span>';
		output += '            <svg class="delete_icon" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 480 480" style="enable-background:new 0 0 480 480;" xml:space="preserve" width="30px" height="30px"> <path style="fill:#EBE5DD;" d="M59.314,351.314L136,428h64l56-56L136,252l-76.686,76.686 C53.065,334.935,53.065,345.065,59.314,351.314z"/> <polyline style="fill:#5AAAE7;" points="280,188 240,148 136,252 256,372 360,268 320,228 "/><g> <rect x="232" y="420" style="fill:#A38563;" width="248" height="16"/> <rect y="420" style="fill:#A38563;" width="104" height="16"/> </g> <path style="fill:#FFB398;" d="M192,180v-72h104v56l-30.059,30.059c-18.745,18.745-18.745,49.137,0,67.882L280,276l80-80l0,0h88V52 H144v160h16C177.673,212,192,197.673,192,180z"/><g> <rect x="206.057" y="300.003" transform="matrix(-0.7071 0.7071 -0.7071 -0.7071 627.4921 356.0898)" style="fill:#1E81CE;" width="67.88" height="16"/> <rect x="154.773" y="243.998" transform="matrix(-0.7071 0.7071 -0.7071 -0.7071 519.6616 288.7454)" style="fill:#1E81CE;" width="90.512" height="16"/> </g><g> <rect x="320" y="356" style="fill:#D4C8B8;" width="16" height="16"/> <rect x="352" y="324" style="fill:#D4C8B8;" width="16" height="16"/> <rect x="416" y="324" style="fill:#D4C8B8;" width="16" height="16"/> <rect x="352" y="388" style="fill:#D4C8B8;" width="16" height="16"/> <rect x="416" y="388" style="fill:#D4C8B8;" width="16" height="16"/> <rect x="288" y="388" style="fill:#D4C8B8;" width="16" height="16"/> <rect x="384" y="356" style="fill:#D4C8B8;" width="16" height="16"/> <rect x="416" y="260" style="fill:#D4C8B8;" width="16" height="16"/> <rect x="384" y="292" style="fill:#D4C8B8;" width="16" height="16"/> </g><g> <path style="fill:#FE946F;" d="M168,84v24v104c13.255,0,24-10.745,24-24v-80h104V84H168z"/> <polygon style="fill:#FE946F;" points="280,276 264,260 360,164 448,164 448,196 360,196 "/> </g> <path style="fill:#D4C8B8;" d="M72,316l80,80h32l48-48l24,24l-56,56h-64l-76.686-76.686c-6.248-6.248-6.248-16.379,0-22.627L72,316z "/> <rect x="222.464" y="291.03" transform="matrix(-0.7071 0.7071 -0.7071 -0.7071 723.1006 316.4854)" style="fill:#1E81CE;" width="147.081" height="33.944"/><g> <rect x="100.707" y="307.999" transform="matrix(-0.7071 0.7071 -0.7071 -0.7071 414.6734 460.2344)" style="fill:#FFFFFF;" width="22.624" height="16"/> <rect x="122.763" y="252.003" transform="matrix(-0.7071 0.7071 -0.7071 -0.7071 470.676 325.0447)" style="fill:#FFFFFF;" width="90.512" height="16"/> </g> <path d="M365.656,273.656c3.125-3.125,3.125-8.188,0-11.313L335.313,232l28-28H448c4.422,0,8-3.582,8-8V52c0-4.418-3.578-8-8-8H144 c-4.422,0-8,3.582-8,8v160c0,4.418,3.578,8,8,8h12.688l-26.344,26.344l-76.688,76.684c-4.531,4.535-7.031,10.563-7.031,16.973 s2.5,12.438,7.031,16.969l76.688,76.688c1.5,1.5,3.531,2.344,5.656,2.344h64c2.125,0,4.156-0.844,5.656-2.344l56-56L365.656,273.656 z M152,60h288v128h-80c-2.125,0-4.156,0.844-5.656,2.344L280,264.688l-8.406-8.402c-15.594-15.598-15.594-40.973,0-56.57 l30.063-30.059c1.5-1.5,2.344-3.535,2.344-5.656v-56c0-4.418-3.578-8-8-8H192c-4.422,0-8,3.582-8,8v72c0,13.234-10.766,24-24,24h-8 V60z M200,116h88v44.688l-12.001,11.999l-30.343-30.343c-3.125-3.125-8.188-3.125-11.313,0L200,176.688V116z M240,159.313 l24.686,24.686l-4.405,4.404c-21.828,21.836-21.828,57.359,0,79.195l14.063,14.059c1.563,1.563,3.609,2.344,5.656,2.344 s4.094-0.781,5.656-2.344L324,243.313L348.688,268L256,360.688L227.313,332l42.344-42.344l-11.313-11.313L216,320.688L179.313,284 l58.344-58.344l-11.313-11.313L168,272.688L147.313,252L240,159.313z M196.688,420h-57.375l-74.344-74.344c0,0,0,0,0-0.004 c-1.516-1.508-2.344-3.516-2.344-5.652s0.828-4.145,2.344-5.656L136,263.313L244.688,372L196.688,420z"/> <rect x="232" y="420" width="248" height="16"/> <rect y="420" width="104" height="16"/> <rect x="320" y="356" width="16" height="16"/> <rect x="352" y="324" width="16" height="16"/> <rect x="416" y="324" width="16" height="16"/> <rect x="352" y="388" width="16" height="16"/> <rect x="416" y="388" width="16" height="16"/> <rect x="288" y="388" width="16" height="16"/> <rect x="384" y="356" width="16" height="16"/> <rect x="416" y="260" width="16" height="16"/> <rect x="384" y="292" width="16" height="16"/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'	;
		output += '        </a>';
		output += '        <a class="updateB'+c_num+'" onclick="commentsUpdateForm('+c_num+', \''+c_content+'\');">';
		output += '            <span class="update_txt">수정</span>';
		output += '            <svg class="update_icon" id="Capa_1" enable-background="new 0 0 510.616 510.616" height="30" viewBox="0 0 510.616 510.616" width="30" xmlns="http://www.w3.org/2000/svg"><g><g><path d="m211.778 109.078h-42.333v83.229l5.583-3.118h.01l60.372-26.318 21.223-33.992-39.725-18.48c-1.57-.871-3.33-1.321-5.13-1.321z" fill="#eb9c8d"/><g><path d="m34.203 390.157-14.705 4.771c-.86 1.14-1.46 2.45-1.77 3.85l-10.15 46.56c-.53 2.4 1.96 4.34 4.16 3.24l43.11-21.62 2.893-13.262z" fill="#fae2c0"/><path d="m175.038 189.188 60.372-26.318 20.427-32.718-5.894-4.387-33.036-15.368c-1.57-.87-3.33-1.32-5.13-1.32h-1.254l-30.239 39.999c-7.034 9.304-10.84 20.649-10.84 32.313v10.916l5.583-3.118h.011z" fill="#d78878"/><path d="m257.578 94.309-13.56 3.619-23.39 30.95-1.609 16.791 20.144 20.144 20.375-7.975.02.02 23.4-30.96 1.248-11.833z" fill="#e5e1e5"/><path d="m259.558 157.858-148.35 196.24-52.91 70c-.91 1.2-2.09 2.18-3.45 2.86l-35.35-32.03 39.16-51.8 161.97-214.25 38.91 28.96z" fill="#fee97d"/><g id="XMLID_536_"><g><path d="m476.038 185.518v135.01l-56.12-2.95h-24.31l-5.38 1.77c-38.24 12.6-79.15 14.81-118.52 6.4l-20.93-4.46-67.56-.01-44.43 29.46c-5.27 3.49-11.23 5.17-17.12 5.17-9.73 0-19.29-4.56-25.33-13.07-3.6-5.06-5.48-10.89-5.71-16.74-.32-8.49 2.83-17.02 9.26-23.35l45.73-44.94 64.01-36.2c2-1.13 3.75-2.66 5.14-4.5l57.509-76.086.011.006 80.44 44.49h67.19z" fill="#eb9c8d"/></g></g><path d="m420.802 285.634h-24.31l-5.38 1.77c-38.24 12.6-79.15 14.81-118.52 6.4l-20.93-4.46-56.521-.008c-7.2-.001-14.24 2.12-20.24 6.099l-35.229 23.359c-5.27 3.49-11.23 5.17-17.12 5.17-9.73 0-19.29-4.56-25.33-13.07-.631-.887-1.19-1.804-1.715-2.734-3.458 5.404-5.114 11.681-4.878 17.938.23 5.85 2.11 11.68 5.71 16.74 6.04 8.51 15.6 13.07 25.33 13.07 5.89 0 11.85-1.68 17.12-5.17l44.43-29.46 67.56.01 20.93 4.46c39.37 8.41 80.28 6.2 118.52-6.4l5.38-1.77h24.31l56.12 2.95v-31.991z" fill="#d78878"/><g id="XMLID_538_"><g><path d="m302.598 75.758c6.69 5.06 8.01 14.57 2.96 21.26l-22.6 29.88-38.94-28.97 22.82-30.18c5.05-6.69 14.57-8.01 21.25-2.96z" fill="#f9f7f8"/></g></g><path d="m504.116 330.688c0 5.155-4.179 9.335-9.335 9.335h-60.462c-7.951 0-14.396-7.612-14.396-17.002v-137.449c0-9.39 6.445-17.002 14.396-17.002h60.462c5.155 0 9.335 4.179 9.335 9.335z" fill="#ade194"/></g><path d="m169.446 192.306v-83.229h-11.008c-6.65 0-13.08 2.35-18.15 6.65l-79.66 67.41c-11.6 9.81-18.28 24.23-18.28 39.43v97.55c0 6.73 2.73 12.83 7.14 17.24s10.5 7.14 17.23 7.14c9.9 0 18.82-5.99 22.56-15.15l1.33-3.25h.02c-.32-8.49 2.83-17.02 9.26-23.35l1.98-19.16 5.85-56.8z" fill="#eb9c8d"/><path d="m76.177 337.358c-4.41-4.41-7.14-10.51-7.14-17.24v-97.55c0-15.2 6.68-29.62 18.28-39.43l82.129-74.06h-11.008c-6.65 0-13.08 2.35-18.15 6.65l-79.66 67.41c-11.6 9.81-18.28 24.23-18.28 39.43v97.55c0 6.73 2.73 12.83 7.14 17.24s10.5 7.14 17.23 7.14c4.848 0 9.457-1.444 13.342-3.986-1.4-.92-2.703-1.974-3.883-3.154z" fill="#d78878"/></g><g><path d="m331.38 322.91c-19.478 1.09-39.031-.424-58.108-4.495l-20.928-4.466c-.515-.109-1.039-.165-1.565-.165l-67.557-.002c-1.474 0-2.916.435-4.145 1.249l-44.437 29.459c-10.652 7.062-24.789 4.431-32.187-5.992-6.724-9.472-5.592-22.257 2.693-30.399l45.022-44.252 63.154-35.713c.445-.252.864-.548 1.249-.885l5.133-4.493c.385-.337.734-.713 1.042-1.121l53.596-70.898 22.549 12.472c1.15.637 2.396.938 3.623.938 2.641 0 5.201-1.396 6.569-3.871 2.005-3.624.692-8.188-2.933-10.192l-20.67-11.434 28.056-37.113c3.652-4.831 5.205-10.796 4.371-16.794-.833-5.999-3.953-11.313-8.784-14.966l-14.509-10.969c-4.831-3.652-10.791-5.204-16.795-4.371-5.998.834-11.313 3.954-14.965 8.785l-33.536 44.363-6.777-3.748c-2.676-1.48-5.705-2.263-8.763-2.263h-53.344c-8.408 0-16.573 2.991-22.99 8.423l-43.893 37.145c-3.162 2.676-3.556 7.407-.881 10.569 1.484 1.753 3.6 2.655 5.729 2.655 1.711 0 3.433-.583 4.841-1.775l43.893-37.145c3.713-3.142 8.437-4.872 13.301-4.872h53.344c.524 0 1.044.134 1.503.389l4.899 2.709-48.182 63.736-65.935 36.828c-2.134 1.191-3.553 3.348-3.803 5.778l-7.573 73.451c-6.333 7.189-9.598 16.19-9.626 25.271l-.723 1.769c-2.605 6.372-8.736 10.489-15.62 10.489-9.305 0-16.875-7.57-16.875-16.875v-97.559c0-13.012 5.696-25.295 15.629-33.7l11.31-9.57c3.162-2.676 3.557-7.408.881-10.57-2.675-3.16-7.406-3.555-10.57-.881l-11.31 9.571c-13.308 11.262-20.939 27.719-20.939 45.15v97.559c0 10.346 4.958 19.553 12.619 25.38l-33.949 44.908c-1.504 1.989-2.579 4.328-3.111 6.765l-10.158 46.57c-.863 3.959.588 7.964 3.788 10.45 1.879 1.46 4.116 2.206 6.377 2.206.226 0 263.985-.007 263.985-.007 4.143 0 7.5-3.357 7.5-7.5s-3.357-7.5-7.5-7.5h-231.597l15.418-7.729c2.368-1.188 4.465-2.933 6.062-5.047l49.819-65.9c2.463.491 4.971.755 7.493.755 7.325 0 14.741-2.103 21.34-6.478l42.553-28.21 64.506.002 20.153 4.301c20.38 4.349 41.263 5.965 62.077 4.802 4.135-.231 7.301-3.771 7.069-7.907-.231-4.136-3.776-7.294-7.908-7.07zm-122.134-110.934-3.976 3.48-63.346 35.82c-.571.323-1.098.72-1.566 1.18l-14.607 14.357 96.37-127.48 26.904 20.022zm36.271-103.591 26.903 20.022-14.35 18.983-26.904-20.022zm27.303-36.116c1.236-1.636 3.035-2.691 5.065-2.974.358-.05.717-.074 1.072-.074 1.659 0 3.265.535 4.611 1.553l14.509 10.969c3.375 2.552 4.046 7.373 1.494 10.749l-18.105 23.95-26.903-20.022zm-125.302 140.878-35.724 47.256 2.987-28.971zm-124.23 195.34 18.412 16.676-24.756 12.411zm31.283 8.096-24.954-22.602 32.045-42.39c1.648.264 3.335.405 5.056.405 8.096 0 15.625-3.031 21.349-8.216.655 1.157 1.367 2.294 2.153 3.4 2.716 3.826 5.992 7 9.628 9.509z"/><path d="m503.116 332.524h-68.798c-3.737 0-6.896-4.352-6.896-9.503v-137.45c0-5.15 3.158-9.502 6.896-9.502h68.798c4.143 0 7.5-3.357 7.5-7.5s-3.357-7.5-7.5-7.5h-68.798c-9.719 0-17.975 7.125-20.827 16.951h-58.83l-22.388-12.383c-3.624-2.003-8.188-.689-10.193 2.934-2.004 3.625-.691 8.188 2.934 10.193l24.082 13.319c1.111.614 2.36.937 3.63.937h59.697v117.055h-16.817c-.797 0-1.59.127-2.347.377l-5.38 1.772c-8.369 2.757-17.031 5.036-25.744 6.774-4.062.811-6.698 4.761-5.888 8.823.712 3.566 3.845 6.033 7.348 6.033.486 0 .98-.047 1.476-.146 9.306-1.857 18.559-4.293 27.502-7.239l4.237-1.396h15.696c.937 12.552 10.358 22.448 21.813 22.448h68.798c4.143 0 7.5-3.357 7.5-7.5s-3.358-7.497-7.501-7.497z"/></g></g></svg>';
		output += '        </a>';
		output += '    </div>';
		output += '</div>';
		
		$('#updel_id'+c_num).html(output);
		
		$(document).on("click", '.cancel'+c_num, function() {
			$('.dia'+c_num).empty();
		});
	}
	//댓글신고페이지로 이동
	function dangerLink(c_num) {
		location.href="insertCommentDanger.ak?c_num="+c_num+"&m_id="+"<%=id%>";
	}
	
	
	//댓글삭제
	function commentsDeleteGo(c_num, c_re_ref) {
		$.ajax({
			url : '/myakkbird/comments_delete.ak', 
			type : 'POST',
			data : {'c_num' : c_num, 'c_re_ref' : c_re_ref},
			dataType : 'json',
			contentType : 'application/x-www-form-urlencoded; charset=utf-8',
			success : function(data) {
				$('.dia'+c_num).empty();
				location.reload();
			},
			error:function() {
				alert("ajax 통신 실패(댓글삭제)!!!");
			}
		});	
	}
 	//댓글 등록
	 function commentsInsert(insertData2) {
		$.ajax({
			url : '/myakkbird/comments_insert.ak',
			type : 'POST',
			data : insertData2,
			dataType : 'json',
			contentType : 'application/x-www-form-urlencoded; charset=utf-8',
			success : function(data) {
				if(data == 1) {
					commentsList(); //댓글 작성 후 댓글 목록 reload
					$('[name=c_content]').val('');
				}
			},
			error:function() {
				alert("댓글등록ajax 통신 실패(list)!!!"+insertData+m_id);
			}
		});
	} 
 	
	//대댓글 입력양식
	function commentsReplyForm(b_num, c_num) {
		var a = '';
		
		a += '<div class="comm_input_srd_sub">';
		a += '<input class="comm_inputbox_sub" maxlength="1400" type="text" name="reply_c_content_'+c_num+'" />';
		a += '<span><button class="comm_inputbtn_sub" type="button" onclick="commentsReplyInsert('+b_num+','+c_num+');">등록</button></span>';	
		a += '</div>';
		
		$('.replycomm'+b_num+c_num).html(a);	
	}
	
	//대댓글 등록
	 function commentsReplyInsert(b_num, c_num) {
		var replyContent = $('[name=reply_c_content_'+c_num+']').val();
		$.ajax({
			url : '/myakkbird/comments_reply_insert.ak',
			type : 'POST',
			data : {'c_content' : replyContent, 'b_num' : b_num, 'c_num' : c_num},
			dataType : 'json',
			contentType : 'application/x-www-form-urlencoded; charset=utf-8',
			success : function(data) {
				if(data == 1) {
					commentsList(); //대댓글 작성 후 댓글 목록 reload
				}
			},
			error:function() {
				alert("댓글등록ajax 통신 실패(list)!!!"+insertData+m_id);
			}
		});
	} 
 	
	//댓글 수정 - 댓글 내용 출력을 input 폼으로 변경
	function commentsUpdateForm(c_num, c_content) {
		$('.dia'+c_num).empty();
		var a = '';
		
		a += '<div class="comm_input_srd_sub">';
		a += '<input class="comm_inputbox_sub" type="text" name="c_content_'+c_num+'"value="'+c_content+'"/>';
		a += '<span><button class="comm_inputbtn_sub" type="button" onclick="commentsUpdate('+c_num+');">수정</button></span>';
		a += '</div>';
		
		$('.maincomm'+c_num).html(a);
		
	}
	
	//댓글 수정
	function commentsUpdate(c_num) {
		var updateContent = $('[name=c_content_'+c_num+']').val();
		
		$.ajax({
			url : '/myakkbird/comments_update.ak', 
			type : 'POST',
			data : {'c_content' : updateContent, 'c_num' : c_num},
			dataType : 'json',
			contentType : 'application/x-www-form-urlencoded; charset=utf-8',
			success : function(data) {
				if(data == 1) commentsList(b_num) // 댓글 수정 후 목록 처리
			},
			error:function() {
				alert("ajax 통신 실패(수정list)!!!");
			}
		});
	}
	
	//댓글아이디클릭시 프로필페이지로 이동
	function profileLink(m_id) {
		location.href="profile.ak?id="+m_id;
	}
</script>